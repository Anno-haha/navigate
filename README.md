# ADS-B 可视化系统

一个简洁优雅的ADS-B（自动相关监视广播）实时可视化系统，采用苹果风格设计。

## 🚀 快速开始

### 1. 启动数据采集
```bash
python nav.py
```

### 2. 启动Web服务器
```bash
python minimal_server.py
```

### 3. 访问界面
打开浏览器访问：http://127.0.0.1:8000/

## 📁 文件说明

### 核心程序
- **nav.py** - ADS-B数据采集程序，从COM3串口读取数据
- **minimal_server.py** - Web服务器，提供可视化界面和API接口
- **coord_converter.py** - 坐标转换模块（WGS84、ECEF、ENU）
- **safe_file_reader.py** - 安全文件读取模块

### 数据文件
- **adsb_decoded.log** - 解码后的飞机数据
- **adsb_raw.log** - 原始ADS-B数据

### 文档
- **飞机信息显示优化说明.md** - 详细的功能说明文档

## ✨ 主要功能

### 📊 实时统计
- 总飞机数量
- 活跃飞机数量
- 高度分布统计
- 系统运行状态

### 📡 2D雷达视图
- 圆形雷达扫描显示
- 飞机按高度分色标记
- 悬停显示详细信息
- 点击查看完整数据

### ✈️ 飞机列表
- ICAO代码（航班识别码）
- 经纬度坐标（精确到4位小数）
- 飞行高度（英尺，带千位分隔符）
- 距离观测点（公里）
- 飞行速度（km/h）
- 数据更新时间

## 🎨 设计特点

### 苹果风格界面
- 简洁优雅的设计语言
- 低饱和度色彩系统
- 统一的字体和圆角设计
- 流畅的动画效果

### 响应式布局
- 桌面端：3列网格布局
- 平板端：2列布局
- 手机端：1列布局
- 自适应字体大小

## 🔧 技术特性

### 数据处理
- 实时ADS-B数据解码
- 多坐标系转换（WGS84/ECEF/ENU）
- 距离和速度计算
- 24小时数据保留

### Web技术
- 纯HTML/CSS/JavaScript实现
- RESTful API接口
- 3秒自动刷新
- 跨域支持

### 交互功能
- 悬停工具提示
- 点击详细信息
- 键盘快捷键（Ctrl+R刷新）
- 自动刷新开关

## 📊 API接口

### 获取飞机数据
```
GET /api/aircraft/
```

返回JSON格式的飞机数据，包含：
- ICAO代码
- 经纬度坐标
- 飞行高度
- 时间戳
- ECEF/ENU坐标

### 获取统计信息
```
GET /api/statistics/
```

返回系统统计信息。

## 🛠️ 系统要求

- Python 3.6+
- Windows系统（COM3串口）
- ADS-B接收器硬件
- 现代Web浏览器

## 📱 浏览器兼容性

- Chrome/Edge 80+
- Firefox 75+
- Safari 13+
- 移动端浏览器

## 🎯 使用场景

- 航空爱好者实时监控
- 飞行训练辅助
- 空域流量观察
- 技术研究和学习

## 📈 性能指标

- 页面加载：<2秒
- 内存占用：~50MB
- CPU使用：<5%
- 支持100+架飞机同时显示

## 🔄 数据流程

```
ADS-B硬件 → COM3串口 → nav.py → adsb_decoded.log → minimal_server.py → Web界面
```

## 💡 使用提示

1. **首次启动**：先运行nav.py等待数据采集，再启动minimal_server.py
2. **数据更新**：系统每3秒自动刷新，也可手动刷新
3. **移动端**：支持触摸操作，界面自动适配
4. **性能优化**：页面不可见时自动暂停刷新

## 🎉 特色亮点

- **零依赖**：无需安装额外JavaScript库
- **轻量级**：总代码量<50KB
- **高性能**：优化的渲染和数据处理
- **美观性**：专业的苹果风格设计
- **易用性**：直观的用户界面

---

**🛩️ 享受您的ADS-B可视化体验！**
