# ADS-Bå¯è§†åŒ–ç³»ç»Ÿ - é£æœºä¿¡æ¯æ˜¾ç¤ºä¼˜åŒ–

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼Œå…¨é¢ä¼˜åŒ–ADS-Bå¯è§†åŒ–ç³»ç»Ÿä¸­çš„é£æœºä¿¡æ¯æ˜¾ç¤ºï¼Œæå‡å¯è¯»æ€§ã€ä¿¡æ¯å®Œæ•´æ€§å’Œäº¤äº’ä½“éªŒï¼ŒåŒæ—¶ä¿æŒè‹¹æœé£æ ¼çš„ç®€æ´ä¼˜é›…è®¾è®¡ã€‚

## âœˆï¸ é£æœºåˆ—è¡¨ä¼˜åŒ–

### ğŸ“± **å­—ä½“å’Œå¯è¯»æ€§æå‡**

#### å­—ä½“å¤§å°ä¼˜åŒ–
```css
.aircraft-item .icao { 
    font-weight: 700;
    font-size: 20px;        /* ä»16pxå¢å¤§åˆ°20px */
    color: #1d1d1f;
    letter-spacing: 0.5px;  /* å¢åŠ å­—ç¬¦é—´è· */
}

.detail-item {
    font-size: 15px;        /* ä»13pxå¢å¤§åˆ°15px */
}
```

#### è§†è§‰å±‚æ¬¡ä¼˜åŒ–
- **ICAOä»£ç **: 20pxï¼Œå­—é‡700ï¼Œçªå‡ºæ˜¾ç¤º
- **è¯¦ç»†ä¿¡æ¯**: 15pxï¼Œç¡®ä¿å„ç§å±å¹•æ¸…æ™°å¯è¯»
- **æ ‡ç­¾æ–‡å­—**: 14pxï¼Œé€‚ä¸­çš„å¯¹æ¯”åº¦

### ğŸ“Š **å®Œå–„ä¿¡æ¯æ˜¾ç¤ºå†…å®¹**

#### æ–°å¢ä¿¡æ¯å­—æ®µ
```javascript
// è®¡ç®—è·ç¦»è§‚æµ‹ç‚¹çš„è·ç¦» (å¤©æ´¥: 39.1, 117.2)
const distance = calculateDistance(observerLat, observerLon, aircraft.lat, aircraft.lon);

// è®¡ç®—é€Ÿåº¦ (åŸºäºå†å²æ•°æ®)
const speed = aircraft.speed || calculateSpeed(aircraft);
```

#### å®Œæ•´ä¿¡æ¯ç»“æ„
```html
<div class="aircraft-details">
    <div class="detail-group">
        <div class="detail-item">
            <span class="detail-label">åæ ‡</span>
            <span class="detail-value">39.1234, 117.5678</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">é«˜åº¦</span>
            <span class="detail-value">35,000 ft</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">è·ç¦»</span>
            <span class="detail-value">ğŸ“ 45.2 km</span>
        </div>
    </div>
    <div class="detail-group">
        <div class="detail-item">
            <span class="detail-label">é€Ÿåº¦</span>
            <span class="detail-value">850 km/h</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">æ—¶é—´</span>
            <span class="detail-value">19:30:45</span>
        </div>
        <div class="detail-item">
            <span class="detail-label">æ›´æ–°</span>
            <span class="detail-value">2åˆ†é’Ÿå‰</span>
        </div>
    </div>
</div>
```

#### ä¿¡æ¯å­—æ®µè¯´æ˜
1. **ICAOä»£ç **: èˆªç­è¯†åˆ«ç ï¼Œ20pxå¤§å­—ä½“çªå‡ºæ˜¾ç¤º
2. **ç»çº¬åº¦åæ ‡**: ç²¾ç¡®åˆ°å°æ•°ç‚¹å4ä½
3. **é£è¡Œé«˜åº¦**: è‹±å°ºå•ä½ï¼Œå¸¦åƒä½åˆ†éš”ç¬¦
4. **é£è¡Œé€Ÿåº¦**: km/hå•ä½ï¼ŒåŸºäºä½ç½®å˜åŒ–è®¡ç®—
5. **è·ç¦»è§‚æµ‹ç‚¹**: å…¬é‡Œå•ä½ï¼Œå®æ—¶è®¡ç®—
6. **æ•°æ®æ—¶é—´**: æ˜¾ç¤ºæ—¶åˆ†ç§’
7. **æ›´æ–°çŠ¶æ€**: è·ç¦»å½“å‰æ—¶é—´çš„é—´éš”

### ğŸ¨ **è§†è§‰åŒºåˆ†æ”¹è¿›**

#### å¢å¼ºçš„æ¡ç›®é—´è·
```css
.aircraft-item { 
    padding: 20px 24px;     /* ä»16pxå¢åŠ åˆ°20px */
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);  /* æ›´æ˜æ˜¾çš„åˆ†éš”çº¿ */
}

.aircraft-item:hover { 
    background: #f8f9fa;
    transform: translateX(4px);  /* æ‚¬åœæ—¶å³ç§»æ•ˆæœ */
}
```

#### ä¿¡æ¯å±‚æ¬¡ç»“æ„
```css
.aircraft-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.aircraft-details {
    display: grid;
    grid-template-columns: 1fr 1fr;  /* ä¸¤åˆ—å¸ƒå±€ */
    gap: 16px;
}
```

#### çŠ¶æ€æŒ‡ç¤ºå™¨
```css
.activity-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.activity-active {
    background: #34c759;
    box-shadow: 0 0 0 2px rgba(52, 199, 89, 0.3);  /* å‘å…‰æ•ˆæœ */
}

.activity-inactive {
    background: #ff9500;
    box-shadow: 0 0 0 2px rgba(255, 149, 0, 0.3);
}
```

## ğŸ“¡ é›·è¾¾è§†å›¾ä¼˜åŒ–

### ğŸ¯ **å¢å¼ºé£æœºæ ‡è®°**

#### æ ‡è®°å°ºå¯¸å’Œå¯è§æ€§
```css
.aircraft-dot { 
    width: 14px;            /* ä»10pxå¢å¤§åˆ°14px */
    height: 14px; 
    border: 3px solid #ffffff;  /* ä»2pxå¢åŠ åˆ°3px */
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.2);  /* å¢å¼ºé˜´å½± */
}

.aircraft-dot:hover { 
    transform: translate(-50%, -50%) scale(1.4);  /* æ‚¬åœæ”¾å¤§ */
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}
```

#### ICAOä»£ç æ ‡ç­¾
```css
.aircraft-label {
    position: absolute;
    top: -30px;
    background: rgba(255, 255, 255, 0.95);
    color: #1d1d1f;
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.aircraft-dot:hover .aircraft-label {
    opacity: 1;  /* æ‚¬åœæ—¶æ˜¾ç¤ºICAOä»£ç  */
}
```

#### é¢œè‰²å¯¹æ¯”ä¼˜åŒ–
```javascript
// è‹¹æœç³»ç»Ÿè‰²å½©ï¼Œæ›´é²œæ˜çš„å¯¹æ¯”
if (aircraft.alt < 10000) {
    color = '#34c759'; // è‹¹æœç»¿ - ä½ç©º
} else if (aircraft.alt < 33000) {
    color = '#ff9500'; // è‹¹æœæ©™ - ä¸­ç©º
} else {
    color = '#ff3b30'; // è‹¹æœçº¢ - é«˜ç©º
}

// éæ´»è·ƒé£æœºåŠé€æ˜æ˜¾ç¤º
if (!isActive) {
    dot.style.opacity = '0.6';
}
```

### ğŸ–±ï¸ **äº¤äº’ä½“éªŒä¼˜åŒ–**

#### æ‚¬åœå·¥å…·æç¤º
```javascript
function showTooltip(event, aircraft, distance, status, altCategory, timeAgo) {
    tooltip = document.createElement('div');
    tooltip.className = 'aircraft-tooltip';
    tooltip.innerHTML = `
        <div style="font-weight: 600; margin-bottom: 6px;">${aircraft.icao}</div>
        <div>é«˜åº¦: ${aircraft.alt.toLocaleString()} ft (${altCategory})</div>
        <div>åæ ‡: ${aircraft.lat.toFixed(4)}, ${aircraft.lon.toFixed(4)}</div>
        <div>è·ç¦»: ${distance.toFixed(1)} km</div>
        <div>çŠ¶æ€: ${status} (${timeAgo}ç§’å‰)</div>
        <div style="margin-top: 6px; font-size: 11px; color: #ccc;">ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</div>
    `;
}
```

#### å·¥å…·æç¤ºæ ·å¼
```css
.aircraft-tooltip {
    position: fixed;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 13px;
    line-height: 1.4;
    max-width: 280px;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}
```

#### ç‚¹å‡»è¯¦ç»†ä¿¡æ¯
```javascript
function showAircraftModal(aircraft, distance, status, altCategory, timeAgo) {
    const modalContent = `
é£æœºè¯¦ç»†ä¿¡æ¯

ICAOä»£ç : ${aircraft.icao}
é£è¡Œé«˜åº¦: ${aircraft.alt.toLocaleString()} ft (${altCategory})
ç»çº¬åº¦åæ ‡: ${aircraft.lat.toFixed(6)}, ${aircraft.lon.toFixed(6)}
è·ç¦»è§‚æµ‹ç‚¹: ${distance.toFixed(2)} km
é£è¡Œé€Ÿåº¦: ${speed ? speed.toFixed(0) + ' km/h' : 'æ•°æ®ä¸å¯ç”¨'}
æ•°æ®æ—¶é—´: ${aircraft.timestamp}
æ´»è·ƒçŠ¶æ€: ${status} (${timeAgo}ç§’å‰)

${aircraft.ecef_x ? `ECEFåæ ‡: X=${aircraft.ecef_x.toFixed(0)}, Y=${aircraft.ecef_y.toFixed(0)}, Z=${aircraft.ecef_z.toFixed(0)}` : ''}
${aircraft.enu_e ? `ENUåæ ‡: E=${aircraft.enu_e.toFixed(0)}, N=${aircraft.enu_n.toFixed(0)}, U=${aircraft.enu_u.toFixed(0)}` : ''}
    `;
    alert(modalContent);
}
```

## ğŸ“Š æ•°æ®å¤„ç†ä¼˜åŒ–

### ğŸ”¢ **è·ç¦»è®¡ç®—**
```javascript
function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // åœ°çƒåŠå¾„ (km)
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLon = (lon2 - lon1) * Math.PI / 180;
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
              Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
}
```

### âš¡ **é€Ÿåº¦ä¼°ç®—**
```javascript
function calculateSpeed(aircraft) {
    // åŸºäºä½ç½®å˜åŒ–çš„é€Ÿåº¦ä¼°ç®—
    if (aircraft.prevLat && aircraft.prevLon && aircraft.prevTime) {
        const distance = calculateDistance(aircraft.prevLat, aircraft.prevLon, aircraft.lat, aircraft.lon);
        const timeDiff = (new Date(aircraft.timestamp) - new Date(aircraft.prevTime)) / 1000 / 3600;
        return distance / timeDiff; // km/h
    }
    return null;
}
```

### ğŸ“¡ **æ‰©å±•æ•°æ®è§£æ**
```javascript
// è§£æECEFå’ŒENUåæ ‡
if (len(parts) >= 8:  // ECEFåæ ‡
    ecef_x = float(parts[5])
    ecef_y = float(parts[6])
    ecef_z = float(parts[7])

if (len(parts) >= 11:  // ENUåæ ‡
    enu_e = float(parts[8])
    enu_n = float(parts[9])
    enu_u = float(parts[10])
```

## ğŸ“± å“åº”å¼è®¾è®¡ä¼˜åŒ–

### ğŸ“ **ç§»åŠ¨ç«¯é€‚é…**
```css
@media (max-width: 768px) {
    .aircraft-details {
        grid-template-columns: 1fr;  /* ç§»åŠ¨ç«¯å•åˆ—æ˜¾ç¤º */
    }
    
    .aircraft-item .icao {
        font-size: 18px;  /* ç§»åŠ¨ç«¯ç¨å°å­—ä½“ */
    }
    
    .radar-container {
        height: 400px;  /* ç§»åŠ¨ç«¯è¾ƒå°é«˜åº¦ */
    }
}

@media (max-width: 480px) {
    .aircraft-item {
        padding: 16px 20px;  /* å°å±å¹•ç´§å‡‘é—´è· */
    }
    
    .detail-item {
        font-size: 14px;  /* å°å±å¹•å­—ä½“è°ƒæ•´ */
    }
}
```

## ğŸ¨ è‹¹æœé£æ ¼ä¿æŒ

### ğŸ **è®¾è®¡åŸåˆ™éµå¾ª**
- **ç®€æ´æ€§**: ä¿¡æ¯å±‚æ¬¡æ¸…æ™°ï¼Œé¿å…è§†è§‰æ··ä¹±
- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è‰²å½©å’Œå­—ä½“ç³»ç»Ÿ
- **åŠŸèƒ½æ€§**: æ¯ä¸ªå…ƒç´ éƒ½æœ‰æ˜ç¡®çš„åŠŸèƒ½ç›®çš„
- **ä¼˜é›…æ€§**: ç²¾è‡´çš„ç»†èŠ‚å’Œæµç•…çš„äº¤äº’

### ğŸ¯ **è‰²å½©ç³»ç»Ÿ**
- **ä¸»è‰²è°ƒ**: è‹¹æœè“ `#007aff`
- **æˆåŠŸè‰²**: è‹¹æœç»¿ `#34c759`
- **è­¦å‘Šè‰²**: è‹¹æœæ©™ `#ff9500`
- **é”™è¯¯è‰²**: è‹¹æœçº¢ `#ff3b30`
- **æ–‡å­—è‰²**: æ·±ç° `#1d1d1f`ï¼Œä¸­ç° `#86868b`

### âš¡ **åŠ¨ç”»æ•ˆæœ**
- **è¿‡æ¸¡æ—¶é—´**: 0.3sï¼Œä½¿ç”¨easeç¼“åŠ¨
- **æ‚¬åœæ•ˆæœ**: è½»å¾®ä½ç§»å’Œé˜´å½±å˜åŒ–
- **æ•°å­—åŠ¨ç”»**: ä½¿ç”¨requestAnimationFrameå¹³æ»‘å˜åŒ–

## ğŸš€ ä¼˜åŒ–æ•ˆæœ

### âœ… **å¯è¯»æ€§æå‡**
- **å­—ä½“å¤§å°**: ICAOä»£ç 20pxï¼Œè¯¦ç»†ä¿¡æ¯15px
- **å¯¹æ¯”åº¦**: ä¼˜åŒ–æ–‡å­—å’ŒèƒŒæ™¯å¯¹æ¯”
- **é—´è·**: å¢åŠ æ¡ç›®é—´è·ï¼Œæ”¹å–„è§†è§‰åˆ†ç¦»

### ğŸ“Š **ä¿¡æ¯å®Œæ•´æ€§**
- **7ä¸ªå…³é”®å­—æ®µ**: ICAOã€åæ ‡ã€é«˜åº¦ã€é€Ÿåº¦ã€è·ç¦»ã€æ—¶é—´ã€çŠ¶æ€
- **ç²¾ç¡®åº¦**: åæ ‡4ä½å°æ•°ï¼Œè·ç¦»1ä½å°æ•°
- **å®æ—¶è®¡ç®—**: è·ç¦»å’Œé€Ÿåº¦åŠ¨æ€è®¡ç®—

### ğŸ® **äº¤äº’ä½“éªŒ**
- **æ‚¬åœæç¤º**: é›·è¾¾æ ‡è®°æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **ç‚¹å‡»è¯¦æƒ…**: å®Œæ•´é£æœºä¿¡æ¯å¼¹çª—
- **è§†è§‰åé¦ˆ**: å¹³æ»‘çš„åŠ¨ç”»å’ŒçŠ¶æ€å˜åŒ–

### ğŸ“± **è·¨è®¾å¤‡å…¼å®¹**
- **å“åº”å¼å¸ƒå±€**: æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºè‡ªé€‚åº”
- **å­—ä½“ç¼©æ”¾**: ä¸åŒå±å¹•å°ºå¯¸ä¼˜åŒ–
- **è§¦æ‘¸å‹å¥½**: ç§»åŠ¨ç«¯äº¤äº’ä¼˜åŒ–

**âœˆï¸ ç°åœ¨çš„ADS-Bå¯è§†åŒ–ç³»ç»Ÿæä¾›äº†æ›´æ¸…æ™°ã€æ›´å®Œæ•´ã€æ›´æ˜“ç”¨çš„é£æœºä¿¡æ¯æ˜¾ç¤ºï¼Œåœ¨ä¿æŒè‹¹æœé£æ ¼ç®€æ´ä¼˜é›…çš„åŒæ—¶ï¼Œå¤§å¹…æå‡äº†ä¿¡æ¯çš„å¯è¯»æ€§å’Œäº¤äº’ä½“éªŒï¼**
